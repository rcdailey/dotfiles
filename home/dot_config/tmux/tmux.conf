# Terminal and color support
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-kitty:Tc"

# Reduce escape delay (default 500ms)
set -g escape-time 10

# Increase scrollback (default 2000)
set -g history-limit 50000

# Enable mouse for scrolling and pane selection
set -g mouse on

# Start numbering at 1, renumber on close
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# Direct keybindings (no prefix) - match kitty muscle memory
bind -n C-S-e split-window -v -c "#{pane_current_path}"
bind -n C-S-o split-window -h -c "#{pane_current_path}"

bind -n C-S-Left select-pane -L
bind -n C-S-Right select-pane -R
bind -n C-S-Up select-pane -U
bind -n C-S-Down select-pane -D

bind -n C-S-w kill-pane
bind -n M-s swap-pane -t !
bind -n C-S-t new-window -c "#{pane_current_path}"
bind -n C-PageUp previous-window
bind -n C-PageDown next-window
bind -n C-S-z resize-pane -Z

bind -n C-M-Left resize-pane -L 2
bind -n C-M-Right resize-pane -R 2
bind -n C-M-Up resize-pane -U 2
bind -n C-M-Down resize-pane -D 2

bind -n F2 command-prompt -I "#W" "rename-window '%%'"
bind -n C-S-r source-file ~/.config/tmux/tmux.conf \; display "Reloaded"

# Status bar
set -g status-style "bg=#282a36,fg=#f8f8f2"
set -g status-left "#[fg=#282a36,bg=#bd93f9,bold] #S "
set -g status-left-length 30
set -g status-right "#[fg=#6272a4]#{b:pane_current_path} #[fg=#f8f8f2]%H:%M"
set -g status-right-length 50

setw -g window-status-format " #I:#W "
setw -g window-status-current-format "#[fg=#282a36,bg=#ff79c6,bold] #I:#W "

set -g pane-border-style "fg=#44475a"
set -g pane-active-border-style "fg=#ff79c6"
